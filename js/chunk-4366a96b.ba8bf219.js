(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4366a96b"],{"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var a,o,s=String(r(e)),c=i(n),l=s.length;return c<0||c>=l?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),a=n("79e5"),o=n("be13"),s=n("2b4c"),c=n("520a"),l=s("species"),u=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),d=!a(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),g=d?!a(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!e}):void 0;if(!d||!g||"replace"===t&&!u||"split"===t&&!p){var h=/./[f],m=n(o,f,""[t],function(t,e,n,i,r){return e.exec===c?d&&!r?{done:!0,value:h.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),v=m[0],x=m[1];i(String.prototype,t,v),r(RegExp.prototype,f,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var i=n("aae3"),r=n("cb7c"),a=n("ebd6"),o=n("0390"),s=n("9def"),c=n("5f1b"),l=n("520a"),u=n("79e5"),p=Math.min,f=[].push,d="split",g="length",h="lastIndex",m=4294967295,v=!u(function(){RegExp(m,"y")});n("214f")("split",2,function(t,e,n,u){var x;return x="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[g]||2!="ab"[d](/(?:ab)*/)[g]||4!="."[d](/(.?)(.?)/)[g]||"."[d](/()()/)[g]>1||""[d](/.?/)[g]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);var a,o,s,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,d=void 0===e?m:e>>>0,v=new RegExp(t.source,u+"g");while(a=l.call(v,r)){if(o=v[h],o>p&&(c.push(r.slice(p,a.index)),a[g]>1&&a.index<r[g]&&f.apply(c,a.slice(1)),s=a[0][g],p=o,c[g]>=d))break;v[h]===a.index&&v[h]++}return p===r[g]?!s&&v.test("")||c.push(""):c.push(r.slice(p)),c[g]>d?c.slice(0,d):c}:"0"[d](void 0,0)[g]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,i):x.call(String(r),n,i)},function(t,e){var i=u(x,t,this,e,x!==n);if(i.done)return i.value;var l=r(t),f=String(this),d=a(l,RegExp),g=l.unicode,h=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),y=new d(v?l:"^(?:"+l.source+")",h),b=void 0===e?m:e>>>0;if(0===b)return[];if(0===f.length)return null===c(y,f)?[f]:[];var _=0,S=0,C=[];while(S<f.length){y.lastIndex=v?S:0;var w,k=c(y,v?f:f.slice(S));if(null===k||(w=p(s(y.lastIndex+(v?0:S)),f.length))===_)S=o(f,S,g);else{if(C.push(f.slice(_,S)),C.length===b)return C;for(var E=1;E<=k.length-1;E++)if(C.push(k[E]),C.length===b)return C;S=_=w}}return C.push(f.slice(_)),C}]})},"2e9a":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-row",[n("img",{staticClass:"pic",attrs:{src:t.currentMusic[0]&&t.currentMusic[0].al.picUrl}}),n("el-button",{staticStyle:{position:"absolute","margin-top":"390px","margin-left":"300px","font-size":"20px"},attrs:{type:"info",plain:""},on:{click:function(e){return t.playMusic(t.$store.state.songIndex)}}},[t._v("播放")]),n("h2",{staticStyle:{"font-size":"29px","font-weight":"400","margin-left":"630px","margin-top":"50px"}},[t._v(t._s(t.currentMusic[0]&&t.currentMusic[0].name))]),n("span",{staticStyle:{"margin-left":"630px","font-size":"20px"}},[t._v("\n                歌手:\n\t\t\t\t"),n("span",{staticStyle:{color:"#4d99de",cursor:"pointer"}},[t._v(t._s(t.currentMusic[0]&&t.currentMusic[0].ar[0].name))])]),n("span",{staticStyle:{"margin-left":"30px","font-size":"20px"}},[t._v("所属专辑: \n\t\t\t\t"),n("span",{staticStyle:{color:"#4d99de",cursor:"pointer"}},[t._v(t._s(t.currentMusic[0]&&t.currentMusic[0].al.name))])]),n("div",{staticStyle:{width:"350px",height:"350px","margin-top":"25px","margin-left":"630px","font-size":"18px"}},[n("el-row",[n("el-col",{attrs:{span:24}},t._l(t.currentLyric,function(e,i){return n("div",{staticClass:"grid-content bg-purple",staticStyle:{"margin-top":"15px"}},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.content)+"\n\t\t\t\t\t    ")])}),0)],1)],1)],1),n("el-main",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"}},[n("com",{on:{func:t.getObj}}),t.phone?n("div",[n("h3",{staticStyle:{"font-weight":"400","margin-top":"50px","margin-left":"200px"}},[t._v("我的评论")]),t._l(t.cts,function(e){return n("div",{staticStyle:{position:"relative","margin-top":"50px",padding:"15px 0","font-size":"15px"}},[e.phone==t.phone?n("div",[n("div",{staticStyle:{"margin-left":"200px"}},[n("el-avatar",{staticStyle:{width:"50px",height:"50px","border-radius":"25px"},attrs:{icon:"el-icon-user-solid"}}),n("div",{staticStyle:{"margin-left":"70px","margin-top":"-60px"}},[n("p",[n("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.phone))]),t._v(": "+t._s(e.songComment))]),n("p",{staticStyle:{display:"block","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat2")(e.date,"yyyy-mm-dd HH:MM:SS")))])])],1)]):t._e()])})],2):t._e(),n("el-col",{attrs:{offset:3,span:15}},[n("h3",{staticStyle:{"font-weight":"400","margin-top":"30px","margin-left":"50px"}},[t._v("精彩评论")]),t._l(t.currentHotComment,function(e){return n("div",{staticStyle:{position:"relative","border-top":"1px solid rgb(240,240,242)","margin-left":"50px","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[n("div",[n("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),n("div",{staticStyle:{"margin-left":"70px","margin-top":"-60px"}},[n("p",[n("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?n("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,function(e){return n("p",[n("span",{staticStyle:{color:"#4d99de"}},[t._v("@"+t._s(e.user.nickname))]),t._v(": "+t._s(e.content)+"\n\t\t\t\t\t\t\t\t")])}),0):t._e(),n("p",{staticStyle:{display:"block","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))])])])])}),n("h3",{staticStyle:{"font-weight":"300","margin-top":"30px","margin-left":"50px"}},[t._v("最新评论("+t._s(t.total)+")")]),t._l(t.currentComment,function(e){return n("div",{staticStyle:{position:"relative","border-top":"1px solid rgb(240,240,242)","margin-left":"50px","border-bottom":"1px solid rgb(240,240,242)",padding:"15px 0","font-size":"15px"}},[n("div",[n("img",{staticStyle:{display:"inline",width:"50px",height:"50px","border-radius":"25px"},attrs:{src:e.user.avatarUrl,alt:""}}),n("div",{staticStyle:{"margin-left":"70px","margin-top":"-60px"}},[n("p",[n("span",{staticStyle:{color:"#4d99de"}},[t._v(t._s(e.user.nickname))]),t._v(": "+t._s(e.content))]),e.beReplied.length>0?n("div",{staticStyle:{"background-color":"rgb(241,241,244)",padding:"5px 5px"}},t._l(e.beReplied,function(e){return n("p",[n("span",{staticStyle:{color:"#4d99de"}},[t._v("@"+t._s(e.user.nickname))]),t._v(": "+t._s(e.content)+"\n\t\t\t\t\t\t\t\t")])}),0):t._e(),n("p",{staticStyle:{display:"block","font-size":"13px",color:"gray",opacity:"0.7"}},[t._v(t._s(t._f("dateFormat")(e.time)))])])])])}),n("el-pagination",{staticStyle:{"text-align":"center","margin-top":"15px"},attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":20,"current-page":t.currentPage},on:{"current-change":t.handleCurrentChange}})],2)],1),n("el-footer",{staticClass:"el-footer"},[n("div",{staticClass:"img",staticStyle:{width:"100%"}}),n("a",{attrs:{href:"#"}},[n("div",{staticClass:"mask"},[n("audio",{staticStyle:{width:"100%"},attrs:{src:t.musicUrl,controls:"controls",autoplay:"autoplay"},on:{play:t.play,pause:t.pause}})])])])],1)},r=[],a=(n("4917"),n("28a5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-top":"-15px"}},[n("el-input",{staticStyle:{width:"720px","margin-left":"200px"},attrs:{type:"textarea",rows:2,maxlength:"140","show-word-limit":"",placeholder:"评论"},model:{value:t.songComment,callback:function(e){t.songComment=e},expression:"songComment"}}),n("br"),n("el-button",{staticStyle:{"margin-left":"822px"},attrs:{type:"primary",size:"medium",plain:""},on:{click:t.submit}},[t._v("提交评论")])],1)}),o=[],s=(n("78ce"),{data:function(){return{songComment:""}},methods:{submit:function(){var t=this.$store.state.phone;if(""!=t){var e={phone:t,songComment:this.songComment,date:Date.now()},n=JSON.parse(localStorage.getItem("songlistObj")||"[]");n.unshift(e),localStorage.setItem("songlistObj",JSON.stringify(n)),this.songComment="",this.$emit("func")}else this.$router.push({name:"login"})}}}),c=s,l=n("2877"),u=Object(l["a"])(c,a,o,!1,null,"75293940",null),p=u.exports,f={data:function(){return{currentMusic:[],lyric:"",currentLyric:[],currentComment:[],currentHotComment:[],total:0,currentPage:1,offset:0,cts:[],musicUrl:"",phone:this.$store.state.phone}},created:function(){this.getCurrentMusicDetail(),this.getCurrentLyric(),this.getCurrentComment(),this.getObj()},methods:{getCurrentMusicDetail:function(){var t=this,e=this.$store.state.songIndex;this.$axios.get("https://autumnfish.cn/song/detail?ids="+e).then(function(e){t.currentMusic=e.data.songs})},getCurrentLyric:function(){var t=this,e=this.$store.state.songIndex;this.$axios.get("https://autumnfish.cn/lyric?id="+e).then(function(e){t.lyric=e.data.lrc.lyric,t.handleLyric(t.lyric)})},handleLyric:function(t){var e=[],n=t.split("\n");for(var i in n){var r=n[i].match(/\[(.+?)\]/g),a=0;for(var o in r)a+=r[o].length;var s=n[i].substring(a);e.push({content:s}),this.currentLyric=e}},getCurrentComment:function(){var t=this,e=this.$store.state.songIndex,n=this.offset;this.$axios.get("https://autumnfish.cn/comment/music?id="+e+"&offset="+n).then(function(e){t.currentComment=e.data.comments,t.currentHotComment=e.data.hotComments,t.total=e.data.total})},handleCurrentChange:function(t){this.offset=20*(t-1),this.getCurrentComment()},getObj:function(){var t=JSON.parse(localStorage.getItem("songlistObj")||"[]");this.cts=t},playMusic:function(t){var e=this;this.$axios.get("https://autumnfish.cn/song/url?id="+t).then(function(t){e.musicUrl=t.data.data[0].url},function(t){})},play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1}},components:{com:p}},d=f,g=(n("c8d4"),Object(l["a"])(d,i,r,!1,null,"f38fd322",null));e["default"]=g.exports},"38b2":function(t,e,n){},4917:function(t,e,n){"use strict";var i=n("cb7c"),r=n("9def"),a=n("0390"),o=n("5f1b");n("214f")("match",1,function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var c=i(t),l=String(this);if(!c.global)return o(c,l);var u=c.unicode;c.lastIndex=0;var p,f=[],d=0;while(null!==(p=o(c,l))){var g=String(p[0]);f[d]=g,""===g&&(c.lastIndex=a(l,r(c.lastIndex),u)),d++}return 0===d?null:f}]})},"520a":function(t,e,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,a=String.prototype.replace,o=r,s="lastIndex",c=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=c||l;u&&(o=function(t){var e,n,o,u,p=this;return l&&(n=new RegExp("^"+p.source+"$(?!\\s)",i.call(p))),c&&(e=p[s]),o=r.call(p,t),c&&o&&(p[s]=p.global?o.index+o[0].length:e),l&&o&&o.length>1&&a.call(o[0],n,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)}),o}),t.exports=o},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"78ce":function(t,e,n){var i=n("5ca1");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},aae3:function(t,e,n){var i=n("d3f4"),r=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},c8d4:function(t,e,n){"use strict";var i=n("38b2"),r=n.n(i);r.a}}]);
//# sourceMappingURL=chunk-4366a96b.ba8bf219.js.map